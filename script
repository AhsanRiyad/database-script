----Read only Role
CREATE ROLE read_only;
GRANT CONNECT ON DATABASE web3db1 TO read_only;
GRANT USAGE ON SCHEMA public TO read_only;
GRANT USAGE ON SCHEMA web3api TO read_only;
GRANT SELECT ON ALL TABLES IN SCHEMA public TO read_only;
GRANT SELECT ON ALL TABLES IN SCHEMA web3api TO read_only;
ALTER DEFAULT PRIVILEGES IN SCHEMA public GRANT SELECT ON TABLES TO read_only;
ALTER DEFAULT PRIVILEGES IN SCHEMA web3api GRANT SELECT ON TABLES TO read_only;
ALTER DEFAULT PRIVILEGES FOR ROLE postgres IN SCHEMA public GRANT SELECT ON TABLES TO read_only;
----Admin Role
CREATE ROLE web3_adm;
GRANT CONNECT ON DATABASE web3db1 TO web3_adm;
GRANT USAGE ON SCHEMA public TO web3_adm;
GRANT USAGE ON SCHEMA web3api TO web3_adm;
GRANT SELECT ON ALL TABLES IN SCHEMA public TO web3_adm;
GRANT ALL ON ALL TABLES IN SCHEMA web3api TO web3_adm;
ALTER DEFAULT PRIVILEGES IN SCHEMA public GRANT SELECT ON TABLES TO web3_adm;
ALTER DEFAULT PRIVILEGES IN SCHEMA web3api GRANT ALL ON TABLES TO web3_adm;
ALTER DEFAULT PRIVILEGES FOR ROLE postgres IN SCHEMA public GRANT SELECT ON TABLES TO web3_adm;
ALTER DEFAULT PRIVILEGES FOR ROLE postgres IN SCHEMA web3api GRANT ALL ON TABLES TO web3_adm;
-----create users
CREATE USER readonlyuser WITH PASSWORD 'CTread123';
GRANT read_only  TO readonlyuser;
CREATE USER web3dev WITH PASSWORD 'Xr@%QKvR+^Ym!Mw6';
GRANT web3_adm  TO web3dev;
